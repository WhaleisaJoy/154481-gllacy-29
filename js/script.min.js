const sliderButtons=document.querySelectorAll(".slider-controls button"),sliderContents=document.querySelectorAll(".slider-content"),pageBody=document.querySelector(".page-body"),contactsButton=document.querySelector(".contacts-button"),overlay=document.querySelector(".overlay"),overlayFeedback=document.querySelector(".overlay-feedback"),modalFeedback=document.querySelector(".modal-feedback"),modalFeedbackForm=document.querySelector(".modal-feedback-form"),modalFeedbackUsername=document.querySelector(".modal-feedback-username"),modalFeedbackEmail=document.querySelector(".modal-feedback-email"),modalFeedbackText=document.querySelector(".modal-feedback-text"),modalCloseButton=document.querySelector(".modal-close"),modalFeedbackSubmitButton=document.querySelector(".modal-feedback .submit-button");let isStorageSupport=!0;try{localStorage.getItem("username")}catch(a){isStorageSupport=!1}if(sliderButtons&&sliderButtons.forEach(function(a,b){a.addEventListener("click",function(a){a.preventDefault(),sliderButtons.forEach(a=>{a.classList.remove("current")}),sliderContents.forEach(a=>{a.classList.remove("current")}),this.classList.add("current"),sliderContents[b].classList.add("current");let c=pageBody.getAttribute("class").match(/slider-content-\d/),d=c[0].substr(0,c[0].length-1),e=d+(parseInt(b)+1);pageBody.classList.remove(c[0]),pageBody.classList.add(e)})}),contactsButton){function a(){pageBody.classList.remove("scroll-hidden"),overlay.classList.remove("open"),modalFeedback.classList.remove("modal-error")}contactsButton.addEventListener("click",function(a){a.preventDefault(),pageBody.classList.add("scroll-hidden"),overlayFeedback.classList.add("open"),isStorageSupport?(modalFeedbackUsername.value=localStorage.getItem("username"),modalFeedbackEmail.value=localStorage.getItem("email"),modalFeedbackText.focus()):modalFeedbackUsername.focus()}),modalCloseButton.addEventListener("click",function(b){b.preventDefault(),a()}),overlay.addEventListener("click",function(b){b.target.classList.contains("overlay")&&b.target.classList.contains("open")&&(b.preventDefault(),a())}),window.addEventListener("keydown",function(b){"Escape"===b.key&&overlayFeedback.classList.contains("open")&&(b.preventDefault(),a())}),modalFeedbackForm.addEventListener("submit",function(a){modalFeedbackUsername.value&&modalFeedbackEmail.value&&modalFeedbackText.value?isStorageSupport&&(localStorage.setItem("username",modalFeedbackUsername.value),localStorage.setItem("email",modalFeedbackEmail.value)):(a.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){"Tab"===a.key&&overlayFeedback.classList.contains("open")&&(a.shiftKey||document.activeElement!=modalFeedbackSubmitButton?a.shiftKey&&document.activeElement==modalFeedbackSubmitButton?(a.preventDefault(),modalFeedbackSubmitButton.previousElementSibling.focus()):a.shiftKey&&document.activeElement==modalCloseButton&&(a.preventDefault(),modalFeedbackSubmitButton.focus()):(a.preventDefault(),modalCloseButton.focus()))})}